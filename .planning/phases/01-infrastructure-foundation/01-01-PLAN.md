---
plan: 01-01
title: Project Scaffolding and Local Development Environment
phase: 1
wave: 1
depends_on: []
files_modified:
  - backend/pom.xml
  - backend/src/main/java/com/honeyexplorer/HoneyExplorerApplication.java
  - backend/src/main/java/com/honeyexplorer/controller/HealthController.java
  - backend/src/main/java/com/honeyexplorer/config/CorsConfig.java
  - backend/src/main/resources/application.properties
  - backend/src/main/resources/application-dev.properties
  - backend/src/main/resources/db/migration/V1__init.sql
  - frontend/package.json
  - frontend/vite.config.ts
  - frontend/tsconfig.json
  - frontend/tailwind.config.js
  - frontend/src/main.tsx
  - frontend/src/App.tsx
  - frontend/src/index.css
  - frontend/index.html
  - frontend/nginx.conf
  - .gitignore
autonomous: true
---

# Plan 01-01: Project Scaffolding and Local Development Environment

## Objective

Create a working local development environment with React + Vite frontend and Spring Boot backend that can build, run, and communicate with each other.

## Context

This is the foundational plan for Honey Explorer. We follow the proven cigar-explorer architecture pattern: React SPA (frontend/) + Spring Boot API (backend/) in a monorepo. The frontend uses Vite for fast development builds and proxies /api requests to the backend. The backend uses H2 for local development and PostgreSQL for production.

Key tech stack decisions (from research):
- Frontend: React 19 + Vite 6 + TypeScript + Tailwind CSS v4
- Backend: Java 21 + Spring Boot 3.4 + Spring Data JPA + Flyway
- Dev database: H2 (in-memory)
- Production database: PostgreSQL 16

Reference: `/home/sam/claude-workspace/cigar-explorer` for proven patterns.

## Tasks

<task id="1">
**Create backend Spring Boot project structure**

Create `backend/` directory with Maven project structure:

1. Create `backend/pom.xml` with:
   - Parent: `spring-boot-starter-parent` version `3.4.1`
   - Java version: 21
   - Dependencies:
     - `spring-boot-starter-web`
     - `spring-boot-starter-data-jpa`
     - `spring-boot-starter-validation`
     - `postgresql` (runtime scope)
     - `h2` (runtime scope)
     - `lombok` (optional: true)
     - `flyway-core`
     - `spring-boot-starter-test` (test scope)
   - Spring Boot Maven plugin with Lombok exclusion

2. Create main application class at `backend/src/main/java/com/honeyexplorer/HoneyExplorerApplication.java`:
   - Standard `@SpringBootApplication` class with main method

3. Create `backend/src/main/java/com/honeyexplorer/controller/HealthController.java`:
   - `@RestController` with `@GetMapping("/api/health")`
   - Returns JSON: `{"status": "healthy", "timestamp": <current ISO datetime>}`

4. Create `backend/src/main/java/com/honeyexplorer/config/CorsConfig.java`:
   - Allow origins: `http://localhost:3000` for dev
   - Allow methods: GET, POST, PUT, DELETE, OPTIONS
   - Allow all headers

5. Create `backend/src/main/resources/application.properties`:
   - Server port: 8080
   - Active profile: dev (default)
   - JPA ddl-auto: validate (let Flyway handle schema)
   - Flyway enabled: true

6. Create `backend/src/main/resources/application-dev.properties`:
   - H2 datasource: `jdbc:h2:mem:honeydb;DB_CLOSE_DELAY=-1`
   - H2 console enabled: true
   - JPA show-sql: true

7. Create initial Flyway migration `backend/src/main/resources/db/migration/V1__init.sql`:
   - Create a minimal schema placeholder (e.g., create a `schema_version_check` table with a single row)
   - This validates Flyway is working; actual schema comes in Phase 2
</task>

<task id="2">
**Create frontend React + Vite project structure**

Create `frontend/` directory with Vite React TypeScript project:

1. Create `frontend/package.json` with:
   - Name: `honey-explorer-frontend`
   - Type: `module`
   - Scripts: dev, build, preview, lint
   - Dependencies:
     - `react` ^19.0.0
     - `react-dom` ^19.0.0
     - `react-router-dom` ^7.1.0
     - `axios` ^1.7.0
     - `lucide-react` ^0.460.0
   - DevDependencies:
     - `@vitejs/plugin-react` ^4.3.0
     - `vite` ^6.0.0
     - `typescript` ^5.7.0
     - `@types/react` ^19.0.0
     - `@types/react-dom` ^19.0.0
     - `tailwindcss` ^4.0.0
     - `@tailwindcss/vite` ^4.0.0

2. Create `frontend/vite.config.ts`:
   - React plugin
   - Tailwind CSS plugin (`@tailwindcss/vite`)
   - Dev server on port 3000
   - Proxy `/api` requests to `http://localhost:8080`

3. Create `frontend/tsconfig.json`:
   - Target: ES2022
   - Module: ESNext
   - Strict mode enabled
   - JSX: react-jsx

4. Create `frontend/index.html`:
   - Standard Vite HTML template
   - Title: "Honey Explorer - Discover Amazing Honey"
   - Script src: `/src/main.tsx`

5. Create `frontend/src/main.tsx`:
   - React 19 createRoot
   - Import App component
   - Import index.css

6. Create `frontend/src/App.tsx`:
   - Simple functional component
   - Display "Honey Explorer" heading
   - Display health check status (fetch from /api/health on mount)
   - Show connection status indicator

7. Create `frontend/src/index.css`:
   - Import Tailwind using CSS import: `@import "tailwindcss";`
   - (Tailwind v4 uses CSS-first configuration)

8. Create `frontend/nginx.conf`:
   - Copy pattern from cigar-explorer
   - Serve static files from `/usr/share/nginx/html`
   - Proxy `/api` to `http://localhost:8080`
   - SPA fallback: `try_files $uri $uri.html $uri/ /index.html`
   - Gzip compression enabled
   - Cache headers for static assets
</task>

<task id="3">
**Create root project files and verify local development works**

1. Create root `.gitignore`:
   - Standard Java ignores: target/, *.class, *.jar
   - Standard Node ignores: node_modules/, dist/
   - IDE ignores: .idea/, *.iml, .vscode/
   - Environment files: .env, .env.local
   - OS files: .DS_Store, Thumbs.db

2. Test backend builds and runs:
   - Run `cd backend && mvn clean package -DskipTests`
   - Run `cd backend && mvn spring-boot:run`
   - Verify `curl http://localhost:8080/api/health` returns healthy status
   - Verify H2 console accessible at `http://localhost:8080/h2-console`

3. Test frontend builds and runs:
   - Run `cd frontend && npm install`
   - Run `cd frontend && npm run build` (verify production build works)
   - Run `cd frontend && npm run dev`
   - Verify `http://localhost:3000` loads the React app
   - Verify health check status shows "healthy" (API proxy working)

4. Verify end-to-end communication:
   - With both backend and frontend running
   - Frontend successfully fetches from backend /api/health
   - No CORS errors in browser console
</task>

## Verification

Run these commands to verify the plan succeeded:

```bash
# Backend builds
cd /home/sam/claude-workspace/honey-explorer/backend && mvn clean package -DskipTests
# Expected: BUILD SUCCESS

# Backend health check (start backend first in background)
cd /home/sam/claude-workspace/honey-explorer/backend && mvn spring-boot:run &
sleep 10
curl -s http://localhost:8080/api/health | grep -q '"status":"healthy"' && echo "Backend OK" || echo "Backend FAILED"

# Frontend builds
cd /home/sam/claude-workspace/honey-explorer/frontend && npm install && npm run build
# Expected: Build completes without errors

# Frontend dev server (with backend still running)
cd /home/sam/claude-workspace/honey-explorer/frontend && npm run dev &
sleep 5
curl -s http://localhost:3000 | grep -q "Honey Explorer" && echo "Frontend OK" || echo "Frontend FAILED"

# Cleanup background processes
pkill -f "spring-boot:run" || true
pkill -f "vite" || true
```

## Must-Haves

- [ ] `backend/pom.xml` exists with Spring Boot 3.4.x parent and all required dependencies
- [ ] `backend/src/main/java/com/honeyexplorer/HoneyExplorerApplication.java` exists and is a valid Spring Boot application
- [ ] `backend/src/main/java/com/honeyexplorer/controller/HealthController.java` returns JSON health status at `/api/health`
- [ ] `backend/src/main/resources/application.properties` configures server port 8080 and Flyway
- [ ] `backend/src/main/resources/db/migration/V1__init.sql` exists (Flyway migration)
- [ ] `mvn clean package -DskipTests` succeeds in backend directory
- [ ] `mvn spring-boot:run` starts backend and `/api/health` returns `{"status":"healthy",...}`
- [ ] `frontend/package.json` exists with React 19, Vite 6, Tailwind v4 dependencies
- [ ] `frontend/vite.config.ts` configures dev server port 3000 and API proxy to 8080
- [ ] `frontend/src/App.tsx` renders "Honey Explorer" and shows health check status
- [ ] `npm install && npm run build` succeeds in frontend directory
- [ ] `npm run dev` starts frontend at localhost:3000
- [ ] Frontend successfully fetches and displays backend health status (end-to-end works)
- [ ] `.gitignore` excludes target/, node_modules/, dist/, .env files
