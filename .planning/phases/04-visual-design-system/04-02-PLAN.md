# Plan 04-02: Core Component Library

## Objective
Build reusable React components with visual polish: cards, badges, loaders, and icons using Lucide React.

## Context
- Tailwind honey theme configured in 04-01
- Lucide React already installed but not used
- Need skeleton loaders for image placeholders
- Need card component with generous whitespace
- Pinterest/Instagram aesthetic: visual-first

## Tasks

### 1. Create Component Directory Structure
```
frontend/src/
├── components/
│   ├── ui/
│   │   ├── Card.tsx
│   │   ├── Badge.tsx
│   │   ├── Button.tsx
│   │   ├── Skeleton.tsx
│   │   ├── Spinner.tsx
│   │   └── index.ts
│   └── layout/
│       ├── Container.tsx
│       ├── Section.tsx
│       └── index.ts
```

### 2. Card Component
**File**: `frontend/src/components/ui/Card.tsx`

```tsx
import { ReactNode } from 'react';

interface CardProps {
  children: ReactNode;
  className?: string;
  hover?: boolean;
  padding?: 'sm' | 'md' | 'lg';
}

export function Card({
  children,
  className = '',
  hover = true,
  padding = 'md'
}: CardProps) {
  const paddingClasses = {
    sm: 'p-4',
    md: 'p-6',
    lg: 'p-8',
  };

  return (
    <div
      className={`
        bg-white rounded-card shadow-honey
        ${paddingClasses[padding]}
        ${hover ? 'transition-shadow duration-200 hover:shadow-honey-lg' : ''}
        ${className}
      `}
    >
      {children}
    </div>
  );
}

export function CardImage({
  src,
  alt,
  aspectRatio = '4/5'
}: {
  src: string;
  alt: string;
  aspectRatio?: string;
}) {
  return (
    <div
      className="overflow-hidden rounded-t-card -mx-6 -mt-6 mb-4"
      style={{ aspectRatio }}
    >
      <img
        src={src}
        alt={alt}
        className="w-full h-full object-cover"
      />
    </div>
  );
}

export function CardTitle({ children }: { children: ReactNode }) {
  return (
    <h3 className="font-display text-xl text-comb-900 mb-2">
      {children}
    </h3>
  );
}

export function CardDescription({ children }: { children: ReactNode }) {
  return (
    <p className="text-comb-600 text-sm leading-relaxed">
      {children}
    </p>
  );
}
```

### 3. Badge Component
**File**: `frontend/src/components/ui/Badge.tsx`

```tsx
import { ReactNode } from 'react';

type BadgeVariant = 'honey' | 'success' | 'warning' | 'info' | 'neutral';

interface BadgeProps {
  children: ReactNode;
  variant?: BadgeVariant;
  size?: 'sm' | 'md';
}

const variantClasses: Record<BadgeVariant, string> = {
  honey: 'bg-honey-100 text-honey-800',
  success: 'bg-green-100 text-green-800',
  warning: 'bg-orange-100 text-orange-800',
  info: 'bg-blue-100 text-blue-800',
  neutral: 'bg-comb-100 text-comb-700',
};

export function Badge({
  children,
  variant = 'honey',
  size = 'md'
}: BadgeProps) {
  const sizeClasses = size === 'sm' ? 'px-2 py-0.5 text-xs' : 'px-3 py-1 text-sm';

  return (
    <span
      className={`
        inline-flex items-center font-medium rounded-badge
        ${variantClasses[variant]}
        ${sizeClasses}
      `}
    >
      {children}
    </span>
  );
}
```

### 4. Button Component
**File**: `frontend/src/components/ui/Button.tsx`

```tsx
import { ButtonHTMLAttributes, ReactNode } from 'react';

interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary' | 'ghost';
  size?: 'sm' | 'md' | 'lg';
  children: ReactNode;
}

export function Button({
  variant = 'primary',
  size = 'md',
  children,
  className = '',
  ...props
}: ButtonProps) {
  const baseClasses = 'inline-flex items-center justify-center font-medium rounded-button transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-honey-500 focus:ring-offset-2';

  const variantClasses = {
    primary: 'bg-honey-500 text-white hover:bg-honey-600 active:bg-honey-700',
    secondary: 'bg-honey-100 text-honey-800 hover:bg-honey-200',
    ghost: 'text-honey-700 hover:bg-honey-50',
  };

  const sizeClasses = {
    sm: 'px-3 py-1.5 text-sm',
    md: 'px-4 py-2 text-base',
    lg: 'px-6 py-3 text-lg',
  };

  return (
    <button
      className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`}
      {...props}
    >
      {children}
    </button>
  );
}
```

### 5. Skeleton Loader
**File**: `frontend/src/components/ui/Skeleton.tsx`

```tsx
interface SkeletonProps {
  className?: string;
  aspectRatio?: string;
}

export function Skeleton({ className = '', aspectRatio }: SkeletonProps) {
  return (
    <div
      className={`animate-pulse bg-comb-200 rounded-lg ${className}`}
      style={aspectRatio ? { aspectRatio } : undefined}
    />
  );
}

export function SkeletonCard() {
  return (
    <div className="bg-white rounded-card shadow-honey p-6">
      <Skeleton className="w-full h-48 mb-4 -mx-6 -mt-6 rounded-t-card rounded-b-none" />
      <Skeleton className="h-6 w-3/4 mb-2" />
      <Skeleton className="h-4 w-full mb-1" />
      <Skeleton className="h-4 w-2/3" />
    </div>
  );
}

export function SkeletonText({ lines = 3 }: { lines?: number }) {
  return (
    <div className="space-y-2">
      {Array.from({ length: lines }).map((_, i) => (
        <Skeleton
          key={i}
          className={`h-4 ${i === lines - 1 ? 'w-2/3' : 'w-full'}`}
        />
      ))}
    </div>
  );
}
```

### 6. Spinner Component (with Lucide)
**File**: `frontend/src/components/ui/Spinner.tsx`

```tsx
import { Loader2 } from 'lucide-react';

interface SpinnerProps {
  size?: 'sm' | 'md' | 'lg';
  className?: string;
}

const sizeMap = {
  sm: 16,
  md: 24,
  lg: 32,
};

export function Spinner({ size = 'md', className = '' }: SpinnerProps) {
  return (
    <Loader2
      size={sizeMap[size]}
      className={`animate-spin text-honey-500 ${className}`}
    />
  );
}
```

### 7. Layout Components
**File**: `frontend/src/components/layout/Container.tsx`

```tsx
import { ReactNode } from 'react';

interface ContainerProps {
  children: ReactNode;
  className?: string;
  size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';
}

const maxWidthClasses = {
  sm: 'max-w-2xl',
  md: 'max-w-4xl',
  lg: 'max-w-6xl',
  xl: 'max-w-7xl',
  full: 'max-w-full',
};

export function Container({
  children,
  className = '',
  size = 'lg'
}: ContainerProps) {
  return (
    <div className={`mx-auto px-4 sm:px-6 lg:px-8 ${maxWidthClasses[size]} ${className}`}>
      {children}
    </div>
  );
}
```

**File**: `frontend/src/components/layout/Section.tsx`

```tsx
import { ReactNode } from 'react';

interface SectionProps {
  children: ReactNode;
  className?: string;
  padding?: 'sm' | 'md' | 'lg';
}

export function Section({
  children,
  className = '',
  padding = 'md'
}: SectionProps) {
  const paddingClasses = {
    sm: 'py-8',
    md: 'py-16',
    lg: 'py-24',
  };

  return (
    <section className={`${paddingClasses[padding]} ${className}`}>
      {children}
    </section>
  );
}
```

### 8. Create Index Exports
**File**: `frontend/src/components/ui/index.ts`
```tsx
export * from './Card';
export * from './Badge';
export * from './Button';
export * from './Skeleton';
export * from './Spinner';
```

**File**: `frontend/src/components/layout/index.ts`
```tsx
export * from './Container';
export * from './Section';
```

### 9. Update App.tsx to Demo Components
Create a component showcase in App.tsx that demos all components with honey theme.

### 10. Verify All Components Work
- Run `npm run dev`
- Check each component renders correctly
- Verify animations/transitions are smooth
- Test hover states

## Success Criteria
- [ ] Card component with hover shadow transition works
- [ ] Badge component with multiple variants works
- [ ] Button component with primary/secondary/ghost variants works
- [ ] Skeleton loader with pulse animation works
- [ ] Spinner using Lucide icons works
- [ ] Container and Section layout components work
- [ ] All components use honey theme colors

## Dependencies
- 04-01-PLAN.md (Tailwind configuration)

## Estimated Complexity
Medium - multiple components but straightforward patterns
